---
import { getCollection } from 'astro:content';

import Category from 'components/Category.astro';
import Image from 'components/Image.astro';
import Layout from 'layouts/Layout.astro';

const categories = await getCollection('categories');

const participants = [
  { name: 'Havas', link: '#' },
  { name: 'Franz&René', link: '#' },
  { name: 'Cavalcade', link: '#' },
  { name: 'M&C Saatchi', link: '#' },
  { name: 'Créatives', link: '#' },
  { name: 'Farner', link: '#' },
  { name: 'Trio', link: '#' },
  { name: 'Octane', link: '#' },
  { name: 'Moser Design', link: '#' },
  { name: 'Karim Merzoug', link: '#' },
  { name: '23bis', link: '#' },
  { name: 'Forme', link: '#' },
  { name: 'North Communication', link: '#' },
  { name: 'Parenti Design', link: '#' },
];
---

<Layout
  title="10 catégories pour pour le GRAND Prix Romand de la Création 2024. Award Le GRAND"
  description="Afin de remporter un Award du GRAND, 10 catégories sont à disposition afin de déposer sa candidature. Bonne chance à toutes et tous. Award / Prix le Association le GRAND."
>
  <!-- HERO -->
  <section class="layout my-20 md:my-40">
    <h1
      class="text-h-xl md:text-h-3xl uppercase -mt-[0.4em] md:row-start-1 md:col-start-3 md:col-span-8 z-10 md:w-fit"
    >
      <span class="flex justify-between w-full">
        <span>10</span>
        <span aria-hidden>(dix)</span>
      </span>
      <span class="block text-core">Catégories</span>
    </h1>

    <Image
      src="categories/1.jpg"
      alt=""
      sizes="(min-width: 1840px) 1281px, (min-width: 780px) calc(68.37vw + 37px), calc(83.48vw - 13px)"
      classes="aspect-w-1 aspect-h-1 col-start-3 md:!col-start-4 md:row-start-1 col-span-4 md:col-span-8 lg:col-span-7 xl:col-span-6 max-md:-mt-6 after:absolute max-lg:after:h-1/3 lg:after:w-1/2 xl:after:w-1/3 max-lg:after:inset-x-0 lg:after:inset-y-0 after:bottom-0 lg:after:right-0 lg:after:bg-gradient-to-l after:bg-gradient-to-t after:from-neutral-900/60 after:to-transparent"
      loading="eager"
      fetchpriority="high"
      fadeIn
    />

    <div
      class="lg:row-start-1 md:col-start-7 lg:col-start-9 md:col-span-7 lg:col-span-4 self-end z-10 -mt-6 md:-mt-40"
    >
      <Image
        src="categories/grand-prix.png"
        alt="Le trophee du grand prix"
        sizes="10vw"
        classes="w-[30vw] md:w-52 mb-6 md:mb-10 max-md:ml-auto animate-float"
        loading="eager"
        fetchpriority="high"
      />
      <p class="lg:mb-16 md:text-lg">
        Pour la 15ème fois, le GRAND récompensera les campagnes et créations
        publicitaires romandes à travers 10 catégories.
      </p>
    </div>
  </section>

  <!-- CATEGORIES -->
  <section class="layout">
    <ul class="">
      {
        categories
          .sort((a, b) => a.data.order - b.data.order)
          .map((category) => <Category category={category} />)
      }
    </ul>
  </section>

  <!-- PARTICIPANTS -->
  <section class="layout my-20 md:my-40">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-5 md:text-lg">
      <h2>Ils ont participé l'année dernière</h2>
      <ul>
        {
          participants.map((participant, index) => (
            <li class="inline">
              <a href={participant.link}>
                <span class="hover-underline after:bottom-1">
                  {participant.name +
                    `${index !== participants.length - 1 && ','}`}
                </span>
              </a>
            </li>
          ))
        }
      </ul>
    </div>
  </section>
</Layout>
