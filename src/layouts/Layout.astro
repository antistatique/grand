---
import 'styles/base.css';
import FlagLogo from 'components/FlagLogo.astro';
import Footer from 'components/Footer.astro';
import Header from 'components/Header.astro';

interface Props {
  title?: string;
  description?: string;
  hideFooterButtons?: boolean;
}

const { title, description, hideFooterButtons } = Astro.props;
---

<!doctype html>
<html lang="fr" class="[color-scheme:dark]">
  <head>
    <meta charset="UTF-8" />
    <title>
      {
        title ||
          'GRAND Prix Romand de la Création. Award de la communication et la publicité.'
      }
    </title>
    <meta
      name="description"
      content={description ||
        'Le GRAND Prix Romand de la Création est un concours ayant pour objectif de mettre en lumière les professionnelles de la communication et la publicité de Suisse Romande. Award Le GRAND 2024'}
    />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />

    <link rel="sitemap" href="/sitemap-index.xml" />
    <link rel="manifest" href="/favicon/manifest.json" />

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/favicon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/favicon/favicon-16x16.png"
    />
    <link
      rel="mask-icon"
      href="/favicon/safari-pinned-tab.svg"
      color="#5bbad5"
    />
    <link rel="shortcut icon" href="/favicon/favicon.ico" />
    <meta name="msapplication-TileColor" content="#02ff00" />
    <meta name="msapplication-config" content="/favicon/browserconfig.xml" />

    <meta name="theme-color" content="#282828" />

    <script
      defer
      data-domain="associationgrand.ch"
      src="https://plausible.io/js/script.js"></script>
  </head>
  <body class="w-full antialiased bg-neutral-900 text-neutral-100 text-base">
    <Header />
    <FlagLogo />
    <main id="main-content">
      <slot />
    </main>
    <Footer hideButtons={hideFooterButtons} />
  </body>
</html>

<script>
  /* eslint-disable prettier/prettier */
  if (navigator.serviceWorker) {
    window.addEventListener('load', function () {
      navigator.serviceWorker.register('/sw.js', {
        scope: '/',
      });
    });
  }
</script>
